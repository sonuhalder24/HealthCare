<app-header></app-header>
<div class="table-container">
  <table *ngIf="allAppointments" class="table-class">
    <thead>
      <tr class="table-head">
        <th>Appointment id</th>
        <th>Patient id</th>
        <th>Patient name</th>
        <th>Disease</th>
        <th>Priority</th>
        <th>Tentative date</th>
        <th>Requested on</th>
        <th>Update</th>
      </tr>
    </thead>
    <tbody>
      <!--display all appointments -->
      <tr id="table-row" *ngFor="let appointment of allAppointments">
        <td id="app-id">{{ appointment.booking_id }}</td>
        <td id="patient-id">{{ appointment.patient_id }}</td>
        <td id="patient-name">
          <!-- Dipa -->
          {{ patientMap.get(appointment.patient_id) }}
          <!-- {{ `${appointment.patientFirstName} ${appointment.patientLastName}` }} -->
        </td>
        <td id="table-disease" class="td-column">{{ appointment.disease }}</td>
        <td id="table-priority">{{ appointment.priority }}</td>
        <td id="table-tentativedate">{{ appointment.tentativeDate }}</td>
        <td id="table-requestedOn">{{ appointment.bookingTime }}</td>
        <td>
          <!--call view method with selected patient id when clicking this tag-->
          <a
            id="view"
            class="view-details"
            (click)="view(appointment.patient_id)"
            >View Details</a
          >

          <!--call cancelAppointment method with selected appointment id when clicking on this button-->
          <button
            id="reject"
            class="btn btn-danger btn-value"
            (click)="cancelAppointment(appointment.booking_id)"
          >
            Cancel Appointment
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
